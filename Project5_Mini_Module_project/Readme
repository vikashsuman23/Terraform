 What problem do Terraform Modules solve?

Imagine you are writing Terraform like this ğŸ‘‡

resource "aws_vpc" "main" { ... }
resource "aws_subnet" "public" { ... }
resource "aws_subnet" "private" { ... }
resource "aws_internet_gateway" "igw" { ... }
resource "aws_route_table" "rt" { ... }


Now imagine:

You need the same setup for dev, qa, and prod

Or another project also needs the same VPC structure

ğŸ‘‰ Copy-paste is BAD
ğŸ‘‰ Modules are the solution



Root Module (MOST IMPORTANT CONCEPT)
ğŸ”¹ What is Root Module?

The root module is the folder where you run terraform init and terraform apply.

ğŸ“ Example:

terraform-project/
â”œâ”€â”€ main.tf
â”œâ”€â”€ variables.tf
â”œâ”€â”€ outputs.tf
â”œâ”€â”€ terraform.tfvars


ğŸ‘‰ This folder itself is a module
ğŸ‘‰ Terraform always starts here

Thatâ€™s why itâ€™s called ROOT MODULE

ğŸ”¹ What does Root Module do?

Defines providers (AWS, region)

Calls child modules

Passes values to child modules

Collects outputs

ğŸ“Œ Root module = Orchestrator



Child Modules (Reusable Building Blocks)

Child modules are modules called from another module (usually root).

ğŸ“ Example structure:

terraform-project/
â”œâ”€â”€ main.tf              â† ROOT MODULE
â”œâ”€â”€ modules/
â”‚   â”œâ”€â”€ vpc/
â”‚   â”‚   â”œâ”€â”€ main.tf
â”‚   â”‚   â”œâ”€â”€ variables.tf
â”‚   â”‚   â”œâ”€â”€ outputs.tf
â”‚   â””â”€â”€ ec2/
â”‚       â”œâ”€â”€ main.tf
â”‚       â”œâ”€â”€ variables.tf
â”‚       â”œâ”€â”€ outputs.tf


Here:

vpc is a child module

ec2 is a child module


*****************************************************
Terraform modules allow you to group related resources into reusable components.
The root module is the entry point where Terraform runs, and child modules are reusable configurations called by the root module.
